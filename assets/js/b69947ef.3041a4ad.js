"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[303],{6010:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"corpus-ingestion","title":"Corpus Ingestion","description":"After completing the installation, you need to ingest a corpus of tables to build the semantic join database. The corpus provides the statistical foundation for semantic joins.","source":"@site/docs/corpus-ingestion.md","sourceDirName":".","slug":"/corpus-ingestion","permalink":"/sema-join-docs/docs/corpus-ingestion","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Installation","permalink":"/sema-join-docs/docs/installation"},"next":{"title":"Performing Semantic Joins","permalink":"/sema-join-docs/docs/using-sema-join"}}');var t=s(4848),o=s(8453);const a={sidebar_position:3},r="Corpus Ingestion",c={},l=[{value:"What is a Corpus?",id:"what-is-a-corpus",level:2},{value:"Corpus Data",id:"corpus-data",level:2},{value:"Ingestion Process",id:"ingestion-process",level:2},{value:"Running Ingestion",id:"running-ingestion",level:2},{value:"Database Location",id:"database-location",level:2},{value:"Verifying Ingestion",id:"verifying-ingestion",level:2},{value:"Re-running Ingestion",id:"re-running-ingestion",level:2},{value:"Custom Corpus",id:"custom-corpus",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"corpus-ingestion",children:"Corpus Ingestion"})}),"\n",(0,t.jsx)(n.p,{children:"After completing the installation, you need to ingest a corpus of tables to build the semantic join database. The corpus provides the statistical foundation for semantic joins."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Prerequisites:"})," You must complete the ",(0,t.jsx)(n.a,{href:"./installation",children:"Installation"})," step before running corpus ingestion."]}),"\n",(0,t.jsx)(n.h2,{id:"what-is-a-corpus",children:"What is a Corpus?"}),"\n",(0,t.jsx)(n.p,{children:"A corpus is a collection of tables from your data domain that serves as the statistical foundation for semantic joins. Project SEMA-JOIN analyzes this corpus to discover which values co-occur frequently across tables."}),"\n",(0,t.jsx)(n.p,{children:'The key insight from the Microsoft Research SEMA-JOIN paper is that values appearing together in the same table often have semantic relationships. For example, if "California" and "Los Angeles" frequently appear in the same rows across many tables, they likely have a geographic relationship.'}),"\n",(0,t.jsx)(n.h2,{id:"corpus-data",children:"Corpus Data"}),"\n",(0,t.jsx)(n.p,{children:"Project SEMA-JOIN includes sample corpus data in JSON format. This data contains tables that will be analyzed to build the semantic index.\nCurrently supported corpus formats are:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"JSON files containing arrays of tables in Wikitable or WDC format"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"ingestion-process",children:"Ingestion Process"}),"\n",(0,t.jsx)(n.p,{children:"The ingestion process reads corpus JSON files and stores co-occurrence data in the database:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"What Gets Stored:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Table metadata (table IDs, row IDs, column IDs)"}),"\n",(0,t.jsx)(n.li,{children:"Cell values with their positions (which table, row, and column they appear in)"}),"\n",(0,t.jsx)(n.li,{children:"Co-occurrence patterns (which values appear together in the same tables)"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"running-ingestion",children:"Running Ingestion"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Important:"})," Before running ingestion, ensure you have installed the corpus dependencies (this is done automatically in the installation guide, but mentioned here for reference):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd corpus\nuv sync\ncd ..\n"})}),"\n",(0,t.jsx)(n.p,{children:"Use the make command to run the corpus ingestion process:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"make ingest\n"})}),"\n",(0,t.jsx)(n.p,{children:"This will execute the ingestion process:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read all JSON corpus files from ",(0,t.jsx)(n.code,{children:"corpus/data/"})]}),"\n",(0,t.jsx)(n.li,{children:"Extract and normalize table values"}),"\n",(0,t.jsx)(n.li,{children:"Store table structure (table IDs, row IDs, column IDs)"}),"\n",(0,t.jsx)(n.li,{children:"Store cell values with their positions"}),"\n",(0,t.jsx)(n.li,{children:"Record co-occurrence patterns (which values appear in same tables/rows/columns)"}),"\n",(0,t.jsx)(n.li,{children:"Create database indexes for fast querying"}),"\n",(0,t.jsxs)(n.li,{children:["Generate the ",(0,t.jsx)(n.code,{children:"corpus.db"})," file in the project root"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"database-location",children:"Database Location"}),"\n",(0,t.jsx)(n.p,{children:"The corpus database is created in the project root directory. This database contains all the statistical information needed for semantic joins."}),"\n",(0,t.jsx)(n.h2,{id:"verifying-ingestion",children:"Verifying Ingestion"}),"\n",(0,t.jsx)(n.p,{children:"After ingestion completes, verify the database was created successfully:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"ls -lh corpus.db\n"})}),"\n",(0,t.jsx)(n.p,{children:"You should see a database file with size information indicating successful creation."}),"\n",(0,t.jsx)(n.h2,{id:"re-running-ingestion",children:"Re-running Ingestion"}),"\n",(0,t.jsx)(n.p,{children:"If you need to re-ingest the corpus, first remove the existing database:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"rm corpus.db\n"})}),"\n",(0,t.jsx)(n.p,{children:"Then run the ingestion process again:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"make ingest\n"})}),"\n",(0,t.jsx)(n.p,{children:"This is useful when updating the corpus with new tables or correcting data issues."}),"\n",(0,t.jsx)(n.h2,{id:"custom-corpus",children:"Custom Corpus"}),"\n",(0,t.jsx)(n.p,{children:"To use your own corpus data, place JSON files in the corpus data directory. Each file should contain tables in the expected format."}),"\n",(0,t.jsx)(n.p,{children:"The quality of semantic joins depends heavily on corpus coverage. Your corpus should contain representative tables from your data domain. The more tables with relevant value co-occurrences, the better Project SEMA-JOIN can discover semantic relationships."}),"\n",(0,t.jsx)(n.p,{children:"For example, if you are joining geographic data, your corpus should contain tables with geographic entities. If you are joining product data, include tables with product names, manufacturers, and categories."}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsx)(n.p,{children:"With corpus ingestion complete, you are ready to start using Project SEMA-JOIN."})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>r});var i=s(6540);const t={},o=i.createContext(t);function a(e){const n=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),i.createElement(o.Provider,{value:n},e.children)}}}]);